<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Kubernetes[espa] | Ancordss-Blog!</title>
<meta name=keywords content="fast"><meta name=description content='que es Kubernetes? es una tecnologia que permite orquestar contenedores docker componenetes: control plane Node Scheduler kube-proxy kubelet etcd controller manager Cloud controller manager Api server notas para usar kubernets requisitos: docker
instalar kubectl y kubernetes tener instalado docker
para usar o practicar usar minikube para iniciar minikube correr :
sudo sysctl fs.protected_regular=0 sudo minikube start ahora ya se pueden ejecutar comandos [ejecutar como root]
comandos mas usados kubectl config get-contexts kubectl get ns [para ver pods] kubectl -n kube-system get pods [se le puden pasar mas comandos como -o wide] kubectl delete pod "nombre del pod" kubectl delete -f "nombre del archivo" [elimina los pods que crea el archivo] kubectl get pod "nombre del pod" [para ver el estado del pod, se le puede pasar -o yaml y mostrara todo el yaml del pod ] kubectl describe pod "nombre del pod" kubectl get pvc kubectl delete pvc "nombre del pvc" kubectl get sts kubectl delete sts "nombre del statefulset" manifiestos [para entender revisar 01-pod.'><meta name=author content="Ancordss"><link rel=canonical href=https://ancordss.github.io/post/kubernetes_es/><link crossorigin=anonymous href=/assets/css/stylesheet.min.d6e3b908b0057e207d7a03f785a6dc7aabf91f7483df0b5b295729600dfb6b93.css integrity="sha256-1uO5CLAFfiB9egP3habceqv5H3SD3wtbKVcpYA37a5M=" rel="preload stylesheet" as=style><link rel=icon href=https://ancordss.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://ancordss.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ancordss.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://ancordss.github.io/apple-touch-icon.png><link rel=mask-icon href=https://ancordss.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://ancordss.github.io/post/kubernetes_es/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Kubernetes[espa] "><meta property="og:description" content='que es Kubernetes? es una tecnologia que permite orquestar contenedores docker componenetes: control plane Node Scheduler kube-proxy kubelet etcd controller manager Cloud controller manager Api server notas para usar kubernets requisitos: docker
instalar kubectl y kubernetes tener instalado docker
para usar o practicar usar minikube para iniciar minikube correr :
sudo sysctl fs.protected_regular=0 sudo minikube start ahora ya se pueden ejecutar comandos [ejecutar como root]
comandos mas usados kubectl config get-contexts kubectl get ns [para ver pods] kubectl -n kube-system get pods [se le puden pasar mas comandos como -o wide] kubectl delete pod "nombre del pod" kubectl delete -f "nombre del archivo" [elimina los pods que crea el archivo] kubectl get pod "nombre del pod" [para ver el estado del pod, se le puede pasar -o yaml y mostrara todo el yaml del pod ] kubectl describe pod "nombre del pod" kubectl get pvc kubectl delete pvc "nombre del pvc" kubectl get sts kubectl delete sts "nombre del statefulset" manifiestos [para entender revisar 01-pod.'><meta property="og:type" content="article"><meta property="og:url" content="https://ancordss.github.io/post/kubernetes_es/"><meta property="og:image" content="https://avatars.githubusercontent.com/u/87324382?s=400&amp;u=3a0cbb2958a9346ac0d43164be8903afb12a511e&amp;v=4"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-05-10T16:02:38+00:00"><meta property="article:modified_time" content="2022-05-10T16:02:38+00:00"><meta property="og:site_name" content="James-Maradiaga"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://avatars.githubusercontent.com/u/87324382?s=400&amp;u=3a0cbb2958a9346ac0d43164be8903afb12a511e&amp;v=4"><meta name=twitter:title content="Kubernetes[espa] "><meta name=twitter:description content='que es Kubernetes? es una tecnologia que permite orquestar contenedores docker componenetes: control plane Node Scheduler kube-proxy kubelet etcd controller manager Cloud controller manager Api server notas para usar kubernets requisitos: docker
instalar kubectl y kubernetes tener instalado docker
para usar o practicar usar minikube para iniciar minikube correr :
sudo sysctl fs.protected_regular=0 sudo minikube start ahora ya se pueden ejecutar comandos [ejecutar como root]
comandos mas usados kubectl config get-contexts kubectl get ns [para ver pods] kubectl -n kube-system get pods [se le puden pasar mas comandos como -o wide] kubectl delete pod "nombre del pod" kubectl delete -f "nombre del archivo" [elimina los pods que crea el archivo] kubectl get pod "nombre del pod" [para ver el estado del pod, se le puede pasar -o yaml y mostrara todo el yaml del pod ] kubectl describe pod "nombre del pod" kubectl get pvc kubectl delete pvc "nombre del pvc" kubectl get sts kubectl delete sts "nombre del statefulset" manifiestos [para entender revisar 01-pod.'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://ancordss.github.io/post/"},{"@type":"ListItem","position":2,"name":"Kubernetes[espa] ","item":"https://ancordss.github.io/post/kubernetes_es/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Kubernetes[espa] ","name":"Kubernetes[espa] ","description":"que es Kubernetes? es una tecnologia que permite orquestar contenedores docker componenetes: control plane Node Scheduler kube-proxy kubelet etcd controller manager Cloud controller manager Api server notas para usar kubernets requisitos: docker\ninstalar kubectl y kubernetes tener instalado docker\npara usar o practicar usar minikube para iniciar minikube correr :\nsudo sysctl fs.protected_regular=0 sudo minikube start ahora ya se pueden ejecutar comandos [ejecutar como root]\ncomandos mas usados kubectl config get-contexts kubectl get ns [para ver pods] kubectl -n kube-system get pods [se le puden pasar mas comandos como -o wide] kubectl delete pod \u0026#34;nombre del pod\u0026#34; kubectl delete -f \u0026#34;nombre del archivo\u0026#34; [elimina los pods que crea el archivo] kubectl get pod \u0026#34;nombre del pod\u0026#34; [para ver el estado del pod, se le puede pasar -o yaml y mostrara todo el yaml del pod ] kubectl describe pod \u0026#34;nombre del pod\u0026#34; kubectl get pvc kubectl delete pvc \u0026#34;nombre del pvc\u0026#34; kubectl get sts kubectl delete sts \u0026#34;nombre del statefulset\u0026#34; manifiestos [para entender revisar 01-pod.","keywords":["fast"],"articleBody":"que es Kubernetes? es una tecnologia que permite orquestar contenedores docker componenetes: control plane Node Scheduler kube-proxy kubelet etcd controller manager Cloud controller manager Api server notas para usar kubernets requisitos: docker\ninstalar kubectl y kubernetes tener instalado docker\npara usar o practicar usar minikube para iniciar minikube correr :\nsudo sysctl fs.protected_regular=0 sudo minikube start ahora ya se pueden ejecutar comandos [ejecutar como root]\ncomandos mas usados kubectl config get-contexts kubectl get ns [para ver pods] kubectl -n kube-system get pods [se le puden pasar mas comandos como -o wide] kubectl delete pod \"nombre del pod\" kubectl delete -f \"nombre del archivo\" [elimina los pods que crea el archivo] kubectl get pod \"nombre del pod\" [para ver el estado del pod, se le puede pasar -o yaml y mostrara todo el yaml del pod ] kubectl describe pod \"nombre del pod\" kubectl get pvc kubectl delete pvc \"nombre del pvc\" kubectl get sts kubectl delete sts \"nombre del statefulset\" manifiestos [para entender revisar 01-pod.yaml]\nla primera parte es la version de la api del recurso es dificil recordar recomiendo fijarse en los docs\nmetadata: le podemos agregar etiquetas o nombres si o si necesita un nombre\nahora declararemos los contenedores colocalos el nombre y la imagen que llamaremos\npara colocar la configuracion del pod corremmos\nkubectl apply -f 01-pod.yaml kubectl exec con este comando al igual que con docker ejecutamos comandos dentro del contenedor\npodemos correr estos comandos para hacer unas pruebas:\nkubectl exec -it nginx -- sh !nota: el -it hace que sea interactiva la shell y despues de – se coloca el comando que queremos que se ejecute [para salir presiona ctrl+d]\nmanifiestos 2 [archivo 02-pods.yaml]\nopciones mas comunes dentro de un pod:\n-varible de entorno env:\nname: mi_varible value: “val” [video sobre mas funciones env https://www.youtube.com/watch?v=t7lrhha4yxe\u0026t=0s] resources: [request recursos que siempre tendra disponible el pod]\n[limits limite que el pod puede llegar a usar de memoria y cpu] nota! si empieza a usar mas el kernel mata el proceso\n[readlinessprobe forma de explicar a kubernet que el pod esta listo listo para resivir trafico]\n[livenessprobe forma de explicar a kubernetes de que el pod esta vivo]\n[ports le decimos el puerto que queremos exponer le ponemos en 80 ya que nginx trabajo con ese.]\nya sabemos lo que son los pod!!! manifiesto deployments [archivo 04-deployments.yaml]\nes muy parecido a los pod tenemos un spec dentro de un spec esto es un templete para nustro spots\nlas replicas son la cantidad de pods que queremos en el deployments\ndeployments es un template para crear pods\ndaemonset es una forma de deployar un pod pero este pod sera deployado en todos los nodos este tipo no tiene replicar, depende de la cantidad de nodos que tengas\npara que sirve: servicios de monitore, capturar logs.\nes muy parecido a un deployment solo que no tiene replica.\nstatefulset esta es forma que aparte de correr como cualquier otro deployment tiene un volumen\nes direcctorio que estara atado a ese pod.\nsirve para base de datos\nstorageclassname : driver de kubernetes para un proveedor.\n–pensar en que cosas podemos usar kubernetes la infracstura ya no solo es codigo ahora tambien es datos\nnetworking en kubernetes pod networking\ncada pod tiene su propio ip\nip routing\nkubernetes services : kube proxys son una forma de poder contactar aplicaciones osea un sed de pods\nprincipalemte hay 3\ncluster ip [sirve como load balancer] node port [crea un puerto en cada nodo que recibe el servicio y lo mando a donde se indique] load balancer [esta atado a la nube, crea un balanceador de carga en el proveedor y redirecciona el trafico a los nodos] service node port [referencia 08-hello-deploymen-svc-nodeport.yaml] se le puede agregar una opcion extra que es nodeport: en el que podemos especificar que puerto queremos que se cree en cada nodo\nservice loadbalancer en type se coloca loadbalancer servicio del proveedor digital ocean\nporque es mejor que un node port\nporque esta atado a la ip de cada nodo\nesta ip no cambia siempre es la misma\ningress [referencia 10-hello-v1-v2-deployment-svc.yaml]\nnos permite crear acceso a nuestros servicios pasados en el path\nfuncionamiento: kubernetes va a hacer un deploy de un controlador nginx osea que correra nginx dentro de nuestro cluster y lo que va hacer este nginx es que tendra un controlador especial que va a leer este tipo de recurso de kubernetes que se llama ingress. va a leer esas configuraciones y se va a autoconfigurar para mandar el trafico a donde tiene que mandarlo\nesto quiere decir que nosotros tenemos que instalar nuestro controlador ingress en nuestro claso nginx no todos los clusters de kubernetes dependiendo del proveedor que estes usando vienen con ingress funcionando generalmente se debe instalar a parte\ncomo se instala? depende del proveedor pero puedes usar helm\ncomando de ingres\nkubectl get ing kubectl -n ingress-nginx get svc esta forma es la mas usada y mas normal para crear aplicaciones\nextras configmap es un archivo que se hostea en kubernetes despues puedes acceder al archivo desde los pods ejemplo [referencia 12-configmap.yaml]\nsupongamos que quiere configurar algun servicio que necesite tenes un archivo de configuracion donde quere guardar algo que es diferente por cada cluster entonces no queres estar hardcodeando en el manifiesto de esta forma usas el mismo manifiesto en todos los cluster y lo unico que se hace es cambiar el config map para eso se usan\nsecrets la diferencia entre este y el otro es que el contenido de estos valores estara codificado en base64 esto no es una forma de encriptar no es seguro pero una persona no lo puede leer\nconsulta la doc para ver los comando que se pueden ingresar para generar automaticamente el yaml codificado\nse recomienda usar kubesealed si se quiere tener encriptado algun dato\nkustomization [referencia kustomization.yaml] es una forma de manejar manifiesto mas facil\nnos permite con un cliente generar manfiestos\npara ejecutar se usa :\nkustomize build . Recomiendo leer el libro [Site Realiability engineering] lo pudes leer en el siguiente link:\nhttps://landing.google.com/sre/book.html\nRecursos: https://github.com/pablokbs/peladonerd/tree/master/kubernetes/35\n[^]: contenido sacado del siguiente video: https://www.youtube.com/watch?v=DCoBcpOA7W4\n","wordCount":"1017","inLanguage":"en","datePublished":"2022-05-10T16:02:38Z","dateModified":"2022-05-10T16:02:38Z","author":{"@type":"Person","name":"Ancordss"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://ancordss.github.io/post/kubernetes_es/"},"publisher":{"@type":"Organization","name":"Ancordss-Blog!","logo":{"@type":"ImageObject","url":"https://ancordss.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ancordss.github.io/ accesskey=h title="Ancordss-Blog! (Alt + H)"><img src=https://ancordss.github.io/apple-touch-icon.png alt=logo aria-label=logo height=35>Ancordss-Blog!</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></span></div><ul id=menu><li><a href=https://ancordss.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://ancordss.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://ancordss.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://ancordss.github.io/post/>Posts</a></div><h1 class=post-title>Kubernetes[espa]</h1><div class=post-meta>&lt;span title='2022-05-10 16:02:38 +0000 UTC'>May 10, 2022&lt;/span>&amp;nbsp;·&amp;nbsp;5 min&amp;nbsp;·&amp;nbsp;Ancordss&nbsp;|&nbsp;<a href=https://github.com/Ancordss/Ancordss.github.io/tree/main/content/post/kubernetes_es.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><h4 id=que-es-kubernetes>que es Kubernetes?<a hidden class=anchor aria-hidden=true href=#que-es-kubernetes>#</a></h4><ul><li>es una tecnologia que permite orquestar contenedores docker</li></ul><p><img loading=lazy src=https://raw.githubusercontent.com/Ancordss/Ancordss.github.io/main/resources/k1.png alt=img.png></p><ul><li>componenetes:<ul><li>control plane</li><li>Node</li><li>Scheduler</li><li>kube-proxy</li><li>kubelet</li><li>etcd</li><li>controller manager</li><li>Cloud controller manager</li><li>Api server</li></ul></li></ul><p><img loading=lazy src=https://raw.githubusercontent.com/Ancordss/Ancordss.github.io/main/resources/k2.png alt=im2.png></p><h3 id=notas-para-usar-kubernets>notas para usar kubernets<a hidden class=anchor aria-hidden=true href=#notas-para-usar-kubernets>#</a></h3><p>requisitos: docker</p><p>instalar kubectl y kubernetes
tener instalado docker</p><p>para usar o practicar usar minikube
para iniciar minikube correr :</p><ul><li>sudo sysctl fs.protected_regular=0</li><li>sudo minikube start</li></ul><p>ahora ya se pueden ejecutar comandos [ejecutar como root]</p><h3 id=comandos-mas-usados>comandos mas usados<a hidden class=anchor aria-hidden=true href=#comandos-mas-usados>#</a></h3><pre tabindex=0><code>  kubectl config get-contexts

  kubectl get ns
  [para ver pods]

  kubectl -n kube-system get pods 
  [se le puden pasar mas comandos como -o wide]

  kubectl delete pod &#34;nombre del pod&#34;
  
  kubectl delete -f &#34;nombre del archivo&#34; 
  [elimina los pods que crea el archivo]

  kubectl get pod &#34;nombre del pod&#34; 
  [para ver el estado del pod, se le puede pasar -o yaml y mostrara todo el yaml del pod ]

  kubectl describe pod &#34;nombre del pod&#34;
  
  kubectl get pvc

  kubectl delete pvc &#34;nombre del pvc&#34;

  kubectl get sts

  kubectl delete sts &#34;nombre del statefulset&#34;
</code></pre><h3 id=manifiestos>manifiestos<a hidden class=anchor aria-hidden=true href=#manifiestos>#</a></h3><p>[para entender revisar 01-pod.yaml]</p><p>la primera parte es la version de la api del recurso es dificil recordar recomiendo
fijarse en los docs</p><p>metadata: le podemos agregar etiquetas o nombres si o si necesita un nombre</p><p>ahora declararemos los contenedores
colocalos el nombre y la imagen que llamaremos</p><p>para colocar la configuracion del pod corremmos</p><pre tabindex=0><code>kubectl apply -f 01-pod.yaml
</code></pre><h3 id=kubectl-exec>kubectl exec<a hidden class=anchor aria-hidden=true href=#kubectl-exec>#</a></h3><p>con este comando al igual que con docker ejecutamos comandos dentro del contenedor</p><p>podemos correr estos comandos para hacer unas pruebas:</p><pre tabindex=0><code>kubectl exec -it nginx -- sh 
</code></pre><p>!nota: el -it hace que sea interactiva la shell y despues de &ndash; se coloca el comando que queremos
que se ejecute [para salir presiona ctrl+d]</p><h3 id=manifiestos-2>manifiestos 2<a hidden class=anchor aria-hidden=true href=#manifiestos-2>#</a></h3><p>[archivo 02-pods.yaml]</p><p>opciones mas comunes dentro de un pod:</p><p>-varible de entorno
env:</p><ul><li>name: mi_varible
value: &ldquo;val&rdquo;
[video sobre mas funciones env https://www.youtube.com/watch?v=t7lrhha4yxe&amp;t=0s]</li></ul><p>resources:
[request recursos que siempre tendra disponible el pod]</p><p>[limits limite que el pod puede llegar a usar de memoria y cpu]
nota! si empieza a usar mas el kernel mata el proceso</p><p>[readlinessprobe forma de explicar a kubernet que el pod esta listo listo para resivir trafico]</p><p>[livenessprobe forma de explicar a kubernetes de que el pod esta vivo]</p><p>[ports le decimos el puerto que queremos exponer le ponemos en 80 ya que nginx trabajo con ese.]</p><h4 id=ya-sabemos-lo-que-son-los-pod>ya sabemos lo que son los pod!!!<a hidden class=anchor aria-hidden=true href=#ya-sabemos-lo-que-son-los-pod>#</a></h4><h3 id=manifiesto-deployments>manifiesto deployments<a hidden class=anchor aria-hidden=true href=#manifiesto-deployments>#</a></h3><p>[archivo 04-deployments.yaml]</p><p>es muy parecido a los pod
tenemos un spec dentro de un spec esto es un templete para nustro spots</p><p>las replicas son la cantidad de pods que queremos en el deployments</p><p>deployments es un template para crear pods</p><h3 id=daemonset>daemonset<a hidden class=anchor aria-hidden=true href=#daemonset>#</a></h3><p>es una forma de deployar un pod pero este pod sera deployado en todos los nodos
este tipo no tiene replicar, depende de la cantidad de nodos que tengas</p><p>para que sirve: servicios de monitore, capturar logs.</p><p>es muy parecido a un deployment solo que no tiene replica.</p><h3 id=statefulset>statefulset<a hidden class=anchor aria-hidden=true href=#statefulset>#</a></h3><p>esta es forma que aparte de correr como cualquier otro deployment tiene un volumen</p><p>es direcctorio que estara atado a ese pod.</p><p>sirve para base de datos</p><p>storageclassname : driver de kubernetes para un proveedor.</p><h4 id=--pensar-en-que-cosas-podemos-usar-kubernetes>&ndash;pensar en que cosas podemos usar kubernetes<a hidden class=anchor aria-hidden=true href=#--pensar-en-que-cosas-podemos-usar-kubernetes>#</a></h4><p>la infracstura ya no solo es codigo ahora tambien es datos</p><h3 id=networking-en-kubernetes>networking en kubernetes<a hidden class=anchor aria-hidden=true href=#networking-en-kubernetes>#</a></h3><p>pod networking</p><p>cada pod tiene su propio ip</p><p>ip routing</p><h3 id=kubernetes-services--kube-proxys>kubernetes services : kube proxys<a hidden class=anchor aria-hidden=true href=#kubernetes-services--kube-proxys>#</a></h3><p>son una forma de poder contactar aplicaciones osea un sed de pods</p><p>principalemte hay 3</p><ul><li>cluster ip [sirve como load balancer]</li><li>node port [crea un puerto en cada nodo que recibe el servicio y lo mando a donde se indique]</li><li>load balancer [esta atado a la nube, crea un balanceador de carga en el proveedor y redirecciona el trafico a los nodos]</li></ul><h3 id=service-node-port>service node port<a hidden class=anchor aria-hidden=true href=#service-node-port>#</a></h3><p>[referencia 08-hello-deploymen-svc-nodeport.yaml]
se le puede agregar una opcion extra que es nodeport:
en el que podemos especificar que puerto queremos que se cree en cada nodo</p><h3 id=service-loadbalancer>service loadbalancer<a hidden class=anchor aria-hidden=true href=#service-loadbalancer>#</a></h3><p>en type se coloca loadbalancer
servicio del proveedor digital ocean</p><p>porque es mejor que un node port</p><p>porque esta atado a la ip de cada nodo</p><p>esta ip no cambia siempre es la misma</p><h3 id=ingress>ingress<a hidden class=anchor aria-hidden=true href=#ingress>#</a></h3><p>[referencia 10-hello-v1-v2-deployment-svc.yaml]</p><p>nos permite crear acceso a nuestros servicios pasados en el path</p><p>funcionamiento: kubernetes va a hacer un deploy de un controlador nginx
osea que correra nginx dentro de nuestro cluster y lo que va hacer este nginx es que tendra un controlador
especial que va a leer este tipo de recurso de kubernetes que se llama ingress. va a leer esas configuraciones y
se va a autoconfigurar para mandar el trafico a donde tiene que mandarlo</p><p>esto quiere decir que nosotros tenemos que instalar nuestro controlador ingress en nuestro claso nginx
no todos los clusters de kubernetes dependiendo del proveedor que estes usando vienen con ingress funcionando generalmente
se debe instalar a parte</p><p>como se instala? depende del proveedor pero puedes usar helm</p><p>comando de ingres</p><pre tabindex=0><code>kubectl get ing 
kubectl -n ingress-nginx get svc
</code></pre><p>esta forma es la mas usada y mas normal para crear aplicaciones</p><h2 id=extras>extras<a hidden class=anchor aria-hidden=true href=#extras>#</a></h2><h3 id=configmap>configmap<a hidden class=anchor aria-hidden=true href=#configmap>#</a></h3><p>es un archivo que se hostea en kubernetes
despues puedes acceder al archivo desde los pods
ejemplo [referencia 12-configmap.yaml]</p><p>supongamos que quiere configurar algun servicio que necesite tenes un archivo de configuracion donde quere guardar algo
que es diferente por cada cluster entonces no queres estar hardcodeando en el manifiesto de esta forma usas el mismo manifiesto
en todos los cluster y lo unico que se hace es cambiar el config map para eso se usan</p><h3 id=secrets>secrets<a hidden class=anchor aria-hidden=true href=#secrets>#</a></h3><p>la diferencia entre este y el otro es que el contenido de estos valores estara codificado en base64
esto no es una forma de encriptar no es seguro pero una persona no lo puede leer</p><p>consulta la doc para ver los comando que se pueden ingresar para generar automaticamente el yaml codificado</p><p>se recomienda usar kubesealed si se quiere tener encriptado algun dato</p><h3 id=kustomization>kustomization<a hidden class=anchor aria-hidden=true href=#kustomization>#</a></h3><p>[referencia kustomization.yaml]
es una forma de manejar manifiesto mas facil</p><p>nos permite con un cliente generar manfiestos</p><p>para ejecutar se usa :</p><pre tabindex=0><code>kustomize build .
</code></pre><ul><li><p>Recomiendo leer el libro [Site Realiability engineering]
lo pudes leer en el siguiente link:</p><p><a href=https://landing.google.com/sre/book.html>https://landing.google.com/sre/book.html</a></p></li><li><p>Recursos: <a href=https://github.com/pablokbs/peladonerd/tree/master/kubernetes/35>https://github.com/pablokbs/peladonerd/tree/master/kubernetes/35</a></p></li></ul><p>[^]: contenido sacado del siguiente video: <a href="https://www.youtube.com/watch?v=DCoBcpOA7W4">https://www.youtube.com/watch?v=DCoBcpOA7W4</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://ancordss.github.io/tags/fast/>Fast</a></li></ul><nav class=paginav><a class=prev href=https://ancordss.github.io/post/kubernetes/><span class=title>« Prev Page</span><br><span>Kubernetes</span>
</a><a class=next href=https://ancordss.github.io/post/ansible2/><span class=title>Next Page »</span><br><span>Ansible | creando Playbooks</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes[espa]  on twitter" href="https://twitter.com/intent/tweet/?text=Kubernetes%5bespa%5d%20&amp;url=https%3a%2f%2fancordss.github.io%2fpost%2fkubernetes_es%2f&amp;hashtags=fast"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes[espa]  on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fancordss.github.io%2fpost%2fkubernetes_es%2f&amp;title=Kubernetes%5bespa%5d%20&amp;summary=Kubernetes%5bespa%5d%20&amp;source=https%3a%2f%2fancordss.github.io%2fpost%2fkubernetes_es%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes[espa]  on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fancordss.github.io%2fpost%2fkubernetes_es%2f&title=Kubernetes%5bespa%5d%20"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes[espa]  on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fancordss.github.io%2fpost%2fkubernetes_es%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes[espa]  on whatsapp" href="https://api.whatsapp.com/send?text=Kubernetes%5bespa%5d%20%20-%20https%3a%2f%2fancordss.github.io%2fpost%2fkubernetes_es%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes[espa]  on telegram" href="https://telegram.me/share/url?text=Kubernetes%5bespa%5d%20&amp;url=https%3a%2f%2fancordss.github.io%2fpost%2fkubernetes_es%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://ancordss.github.io/>Ancordss-Blog!</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>